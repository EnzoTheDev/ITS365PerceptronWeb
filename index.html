<html>   
    
    <head>
        <title>First Numpy Example</title>
        <meta charset="utf-8" />
        <!--   <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />    -->
        <!--     <script defer src="https://pyscript.net/latest/pyscript.js"></script>     -->
        <link rel="stylesheet" href="./styles/XP.css" />
        <!-- CSS for examples -->
        <script>await pyodide.loadPackage("pandas")</script>
         <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>

    </head>

    <body>

        <div class="window">
  <div class="title-bar">
    <div class="title-bar-text">Input your data here:</div>
    <div class="title-bar-controls">
      <button aria-label="Minimize"></button>
      <button aria-label="Maximize"></button>
      <button aria-label="Close"></button>
    </div>
  </div>
  <div class="window-body">
    <table>
        <tr>
        <td>x1 </td>
        <td> 
            <select id ="Input1">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
       </td>
   
        <td> x2 </td>
        <td> 
           <select id ="Input2">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x3 </td>
        <td> 
           <select id ="Input3">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x4 </td>
        <td> 
           <select id ="Input4">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
        </tr>
   
        <tr>
        <td> x5 </td>
        <td> 
           <select id ="Input5">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x6 </td>
        <td> 
           <select id ="Input6">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x7 </td>
        <td> 
           <select id ="Input7">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x8 </td>
        <td> 
           <select id ="Input8">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
        </tr>
   
        <tr>
        <td> x9 </td>
        <td> 
           <select id ="Input9">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x10 </td>
        <td> 
           <select id ="Input10">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x11 </td>
        <td> 
           <select id ="Input11">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x12 </td>
        <td> 
           <select id ="Input12">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
        </tr>
   
        <tr>
        <td> x13 </td>
        <td> 
           <select id ="Input13">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x14 </td>
        <td> 
           <select id ="Input14">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x15 </td>
        <td> 
           <select id ="Input15">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
   
        <td> x16 </td>
        <td> 
           <select id ="Input16">
               <option value="1">1</option>
               <option value="0">0</option>
            </select>
        </td>
        </tr>
        </table>
  </div>
</div>
    
        
     <!--<button id="get-time" py-click="my_gen_function"  class="py-button">Generate</button>-->
     <button id="get-time" py-click="my_gen_function">Generate</button>


     <div class="window">
        <div class="title-bar">
          <div class="title-bar-text">Command Prompt</div>
          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>
            <button aria-label="Maximize"></button>
            <button aria-label="Close"></button>
          </div>
        </div>
        <div class="window-body">
          <pre>Microsoft&#10094;R&#10095; Windows DOS 
      &#10094;C&#10095; Copyright Microsoft Corp 1990-2001.
            <br>C:&#92;WINDOWS&#92;SYSTEM32>    <div id="test-output">
         
            </div>
          </pre>
        </div>
      </div>

        <section class="pyscript"> 
            <div id="mpl"></div>

          

                <script type="py" config="pyscript.toml">
                
                    import numpy as np
                    ##import pandas as pd
                    ##import matplotlib.pyplot as plt
                    ##import matplotlib.tri as tri
                    from pyodide.http import open_url
                    from pyscript import display
                    from pyweb import pydom
                    
                    weights = np.array([ 0.  ,  0.01 , 0.02 , 0.01 ,-0.01 , 0.  ,  0.01 , 0. ,  -0.01,  0.  ,  0.01 , 0.,-0.01, -0.01, -0.01 ,-0.01])  
                    bias = 0.0 

                    def activation_function(x):
                        return np.where(x >= 0, 1, 0)

                    
                    def predict(sample):
                        linear_output = np.dot(sample, weights) + bias
                        return activation_function(linear_output)
                    #############################################################################

                    def euclidean_distance(v1, v2):
                        return np.sqrt( np.sum(   (v1 - v2)**2   )   )

                    #############################################################################



                    #####################################################################

                 
                    #####################################################################

                    #####################################################################
                    ######################################################################

                    def get_np_conditions_vector():
                        c1 = float( pydom["#Input1"][0].value )
                        c2 = float( pydom["#Input2"][0].value )
                        c3 = float( pydom["#Input3"][0].value )
                        c4 = float( pydom["#Input4"][0].value )
                        c5 = float( pydom["#Input5"][0].value )
                        c6 = float( pydom["#Input6"][0].value )
                        c7 = float( pydom["#Input7"][0].value )
                        c8 = float( pydom["#Input8"][0].value )
                        c9 = float( pydom["#Input9"][0].value )
                        c10 = float( pydom["#Input10"][0].value )
                        c11 = float( pydom["#Input11"][0].value )
                        c12 = float( pydom["#Input12"][0].value )
                        c13 = float( pydom["#Input13"][0].value )
                        c14 = float( pydom["#Input14"][0].value )
                        c15 = float( pydom["#Input15"][0].value )
                        c16 = float( pydom["#Input16"][0].value )

                       
                        conditions_list = [c1, c2, c3, c4, c5, c6, c7, c8, c9, c10, c11, c12, c13, c14, c15, c16]
                        np_conditions_list = np.array(conditions_list)
                        np_conditions_list = np.expand_dims(np_conditions_list, axis=0)

                        return np_conditions_list

                    ######################################################################

                    def my_gen_function(event):
                        test_x = get_np_conditions_vector()
                        the_pred = predict(test_x)
                        text1 = np.array2string( test_x , precision=2, separator=',', suppress_small=True)
                        if the_pred == 0:
                            text3 = 'L'
                        elif the_pred == 1:
                            text3 = 'T'
                        else:
                            text3 = str( the_pred )
                        accum_res = "*******************\n" + "Predicted Class: " + text1 + "___"  + text3 + "\n"
                        ## pydom['mpl'].content =  accum_res
                        pydom["div#mpl"].html = accum_res
                    
 
                </script>
        </section>
    </body>
</html>
